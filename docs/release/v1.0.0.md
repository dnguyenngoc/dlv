# DLV v1.0.0 ‚Äì Business Plan (MVP)

Release date: YYYY-MM-DD

## 1) Product Vision
A self‚Äëhosted, lightweight platform that gives data teams a live map of data flows and the fastest way to assess impact, troubleshoot incidents, and satisfy audit lineage needs.

## 2) Who It‚Äôs For
- Data platform / SRE for data
- Data / analytics engineers
- Governance & compliance
- Eng leaders seeking lower MTTR and higher delivery confidence

## 3) Value Propositions
- End‚Äëto‚Äëend lineage visibility (Spark, Airflow, DBs) to answer ‚Äúwhat breaks if this fails?‚Äù
- Near real‚Äëtime pipeline health so incidents are detected/triaged faster
- One place to document, annotate and monitor flows (dashboards)
- Self‚Äëhosted, runs in your VPC; easy incremental adoption

## 4) MVP Scope (v1.0)
- Auth & RBAC: admin (full), viewer (read‚Äëonly)
- Node catalog (PostgreSQL, API) with connection configs and test connection
- Lineage model (DataAssets, Processes, LineageEdges) with Neo4j storage
- Lineage API: CRUD for assets, processes, and edges
- Graph queries: upstream/downstream traversal with depth control
- Impact analysis: graph traversal queries for impact analysis
- Health: manual "test connection" (PostgreSQL, API), simple status (ok/error)
- API‚Äëfirst backend (FastAPI); UI for nodes management (React)

## 5) Out of Scope (post‚Äëv1.0)
- Collectors/schedulers (Celery + Redis), real‚Äëtime updates (WebSocket)
- Dashboards: save/load visual canvas (layouts)
- Full UI (React Flow editor for lineage visualization)
- Alerts, SLA rules, advanced governance features
- Auto-discovery of tables from databases

## 6) Success Metrics (MVP)
- MTTR / TTD reduced on target teams
- Lineage coverage (% key pipelines captured)
- % incidents with impact analysis in < 5 minutes
- # active dashboards and annotated nodes per team

## 7) Timeline (indicative)
- Weeks 1‚Äì3: Backend MVP (auth, nodes, test connection), Swagger & Docker
- Weeks 4‚Äì6: Lineage models, Neo4j integration, graph queries, impact analysis API
- Weeks 7‚Äì9: UI for nodes management, lineage visualization (planned)

## 8) Packaging (Placeholder)
- Community (self‚Äëhosted, core lineage + basics)
- Team (RBAC, alerting, support)
- Enterprise (SSO/SAML, audit logs, SLAs, custom collectors)

## 9) Risks & Mitigations
- Integration breadth ‚Üí start with Spark/Airflow/Postgres; add Kafka later
- Data sensitivity ‚Üí store metadata/lineage only
- Ops complexity ‚Üí Compose/Helm + clear runbooks & examples

## 10) Call‚Äëto‚ÄëAction (v1.0)
- Deploy via Docker Compose, add your first 3‚Äì5 critical pipelines
- Create a dashboard mapping a business‚Äëcritical flow, annotate owners & SLAs
- Use MVP for impact analysis during next incident; gather feedback to shape v1.x

---

## MVP1 Task List (Execution Plan)

UI
- ‚úÖ Design foundation: theme tokens (colors, spacing, radius, shadows), typography
- ‚úÖ Layout shell: header, sidebar, content; responsive breakpoints
- ‚úÖ Auth screens: login form with JWT flow, error/loading states
- ‚úÖ Nodes list: card grid, filters (type, search), pagination, sort, status badges
- ‚úÖ Node modal: PostgreSQL, API with validate + test connection
- ‚úÖ Node type registry: extensible system for adding new node types
- üîÑ Lineage canvas (React Flow): drag‚Äëdrop nodes, edges, pan/zoom (planned)
- üîÑ Canvas polish: snap‚Äëto‚Äëgrid, handles, hover tooltips, smooth edges (planned)
- üîÑ Dashboards: save/load layout JSON, list dashboards (planned)
- üîÑ Impact analysis panel: upstream/downstream highlight, depth control (planned)
- ‚úÖ API client/state: typed client with auth, error handling
- ‚úÖ Global feedback: error alerts, loading states, retry actions
- üîÑ Accessibility & performance: focus/ARIA, memoization, code‚Äësplit (planned)

Backend
- ‚úÖ Nodes API: CRUD + test connection (PostgreSQL, API), RBAC enforcement
- ‚úÖ Lineage API: CRUD for DataAssets, Processes, LineageEdges
- ‚úÖ Neo4j integration: graph storage and traversal queries
- ‚úÖ Impact analysis: upstream/downstream graph queries with depth control
- ‚úÖ Node type registry: extensible connector system (PostgreSQL, API)
- ‚úÖ Swagger/OpenAPI documentation
- üîÑ Dashboards API: CRUD, layout persistence (planned)
- üîÑ Status model + events (stub Redis publish) (planned)

## 11) Architecture

### Databases
- **PostgreSQL**: Metadata storage (users, nodes, data_assets, processes, lineage_edges)
- **Neo4j**: Graph storage for lineage queries (impact analysis, upstream/downstream traversal)

### API Endpoints
- **Auth**: `/api/auth/login`, `/api/auth/me`, `/api/auth/users`
- **Nodes**: `/api/nodes` (CRUD), `/api/nodes/test` (connection test)
- **Lineage**:
  - `/api/lineage/assets` (CRUD)
  - `/api/lineage/processes` (CRUD)
  - `/api/lineage/edges` (CRUD)
  - `/api/lineage/graph` (query with upstream/downstream/depth)

### Node Types
- **PostgreSQL**: Connection string validation, connection testing
- **API**: URL validation, basic connection testing
- **Extensible**: Registry pattern for adding new node types

## 12) Release checks
- ‚úÖ docker‚Äëcompose up e2e (PostgreSQL + Neo4j + API)
- ‚úÖ Nodes CRUD and test connection working
- ‚úÖ Lineage CRUD and graph queries working
- ‚úÖ Swagger documentation available
- ‚úÖ README steps verified
